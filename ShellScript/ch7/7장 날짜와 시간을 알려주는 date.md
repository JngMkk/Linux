# 7장 날짜와 시간을 알려주는 date

```
날짜와 시간을 알려주는 date 명령어는 개발할 때는 물론이고,
시스템의 데이터를 동기화할 때, 데이터를 백업할 때 등등 매우 많은 곳에서사용.
```



## 1. 사용법

```
date는 현재 시스템에 설정된 로케일과 타임존에 따라 현재 시각을 보여주는 리눅스 명령어.
잘 이용하면 다양한 방식으로 날짜와 시간을 표현할 수 있으며, 과거나 미래의 시간까지도 계산할 수 있음.
```



#### 사용

```sh
# 현재 날짜를 설정된 로케일 형식으로 보여줌
date
Sat 10 Sep 2022 01:42:30 PM KST

# 현재 시간을 기준으로 어제 시간을 보여줌
date -d yesterday
Fri 09 Sep 2022 01:42:44 PM KST

# 현재 시간을 명시한 포맷에 맞추어 보여줌
# 년-월-일 시:분을 12시간 표현법으로 출력
date '+%Y-%m-%d %l:%M %p'
2022-09-10  1:44 PM

# 현재 시간을 기준으로 어제 시간을 명시한 포맷에 맞게 보여줌
date -d yesterday '+%A,%B %d,%Y'
Friday,September 09,2022
```

---



## 2. date 옵션

```
date 옵션에는 특정 날짜와 시간대를 표현하는 옵션 및 다양한 표준에 의해 해당 형식으로
날짜와 시간을 출력해 주는 옵션과 날짜나 시간을 설정하는 옵션 등이 있음.
```

| 옵션                            | 설명                                                         |
| ------------------------------- | ------------------------------------------------------------ |
| -d 문자열, --date=문자열        | 현재 시간은 아니며, 문자열에 의해 명시된 날짜를 보여줌       |
| -f 파일, --file=파일            | 파일에서 날짜를 읽어와 보여줌                                |
| -I타임스팩, --iso-8601=타임스팩 | ISO 8601 형식으로 날짜와 시간을 보여줌<br>타임스팩으로 hours, minutes, date, seconds, ns를 사용할 수 있음 |
| -r 파일, --reference=파일       | 파일의 최근 수정일자를 보여줌                                |
| -R, --rfc-2822                  | RFC 2822 포맷으로 날짜와 시간을 보여줌<br>예) Mon, 07 Aug 2006 12:34:56 -0600 |
| --rfc-3339=타임스팩             | RFC 3339 포맷으로 날짜와 시간을 보여줌.<br>타임스팩으로 date, seconds, ns를 사용할 수 있음 |
| -s 문자열, --set=문자열         | 문자열에 의해 명시한 시간으로 설정                           |
| -u, --utc, --universal          | UTC 타입으로 설정하고 출력함                                 |
| --help                          | date 사용법과 옵션을 보여줌                                  |
| --version                       | date 버전 보여줌                                             |



#### -d 문자열, --date=문자열 옵션을 사용할 경우

```sh
# 현재 시간을 기준으로 내일 시간을 보여줌
date -d tomorrow
Sun 11 Sep 2022 01:54:18 PM KST

# 현재 시간을 기준으로 10년 전 시간을 보여줌
date -d "10 years ago"
Mon 10 Sep 2012 01:54:59 PM KST

# 현재 시간을 기준으로 10일 후 시간을 보여줌
date -d "+10 day"
Tue 20 Sep 2022 01:55:24 PM KST

# 현재 시간을 기준으로 3주 전 시간을 보여줌
date -d "-3 week"
Sat 20 Aug 2022 01:55:49 PM KST
```



#### -f 파일, --file=파일 옵션을 사용할 경우

```sh
# 테스트를 위한 -5 day를 date-test.txt에 저장
echo "-5 day" > date-test.txt

# -f 옵션을 이용하여 저장한 파일에서 정보를 읽어 해당 날짜를 보여줌
date -f date-test.txt
Mon 05 Sep 2022 01:57:19 PM KST
```



#### -I[타임스팩], --iso-8601[=타임스팩] 옵션을 사용할 경우

```sh
# 현재 날짜
date -I
2022-09-10

# 날짜 + 시각
date -Ihours
2022-09-10T13+09:00

# 날짜 + 시각 + 분
date -Iminutes
2022-09-10T13:59+09:00

# 날짜 + 시각 + 초 + 나노초
date --iso-8601=ns
2022-09-10T13:59:52,174919538+09:00
```



#### -r 파일, --reference=파일 옵션을 사용할 경우

```sh
# 파일의 최근 수정일자 보여줌
date -r date-test.txt
Sat 10 Sep 2022 01:57:12 PM KST
```



#### -R, --rfc-2822 옵션을 사용할 경우

> -d나 -f 옵션과 함께 사용할 수 있음

```sh
# RFC 2822 형식으로 현재 날짜와 시간 보여줌
date -R
Sat, 10 Sep 2022 14:01:45 +0900

# -d 옵션을 사용하면 해당 일자는 RFC 2822 형식으로 보여줌
date -R -d "+1 day"
Sun, 11 Sep 2022 14:02:13 +0900
```



#### --rfc-3339=타임스팩 옵션을 사용할 경우

> date, seconds, ns 사용 가능

```sh
# RFC 3339 형식으로 현재 날짜와 시간 및 초를 보여줌
date --rfc-3339=seconds
2022-09-10 14:03:23+09:00
```



#### -s 문자열, --set=문자열 옵션을 사용할 경우

> root 계정이거나 권한 있어야 함

```sh
# 현재 일자 확인
date
2022. 09. 10. (토) 14:05:51 KST

# 하루 후로 날짜 변경
date -s "1 day"
2022. 09. 11. (일) 14:05:51 KST

# 변경된 날짜 확인
date
2022. 09. 11. (일) 14:05:51 KST
```



#### -u, --utc, --universal 옵션을 사용할 경우

```sh
# UTC 형식으로 현재 시간을 보여줌
date -u
Sat 10 Sep 2022 05:08:01 AM UTC
```

---



## 3. date 포맷

```
date 포맷은 날짜와 포맷을 내가 원하는 형식으로 출력할 수 있도록 도와줌.
% 기호와 함께 사용되며 요일, 년, 월, 일, 시, 분, 초 등을 조합하여 원하는 날짜와 시간으로 출력할 수 있음.
```

| 포맷  | 설명                                                 |
| ----- | ---------------------------------------------------- |
| %%    | % 기호                                               |
| %a    | 로케일 타입의 짧은 요일 (Sun)                        |
| %A    | 로케일 타입의 요일 (Sunday)                          |
| %b    | 로케일 타입의 짧은 월 (Jan)                          |
| %B    | 로케일 타입의 월 (January)                           |
| %c    | 로케일에 따른 날짜와 시간<br>Thu Mar 3 23:05:05 2005 |
| %C    | 세기 (21)                                            |
| %d    | 일 (01)                                              |
| %D    | 날짜 ( %m/%d/%y )                                    |
| %e    | 일 (%_d와 동일)                                      |
| %F    | 날짜 ( %Y-%m-%d )                                    |
| %g    | 2 자리수 연도                                        |
| %G    | 4 자리수 연도                                        |
| %N    | 나노초                                               |
| %p    | 로케일 타입의 AM 또는 PM                             |
| %P    | %p와 동일하며 소문자임                               |
| %r    | 로케일 타입의 시 ( 11:11:04 PM )                     |
| %R    | 24시간 기준의 시와 분, %H:%M과 동일                  |
| %s    | UTC 타입의 초                                        |
| %S    | 초 (00 ~ 60)                                         |
| %t    | 탭                                                   |
| %T    | 시간 (%H:%M:%S)                                      |
| %u    | 요일 (1 ~ 7) 1은 월요일                              |
| %U    | 일요일로 시작하는 연도의 주수 (00 ~ 53)              |
| %V    | 월요일로 시작하는 연도의 주수 (01 ~ 53)              |
| %w    | 주별 일수 (0 ~ 6) 0은 일요일                         |
| %W    | 월요일로 시작하는 연도별 주수(00 ~ 53)               |
| %h    | %b와 동일                                            |
| %H    | 시 (00 ~ 23)                                         |
| %I    | 대문자 i, 시 (01 ~ 12)                               |
| %j    | 일 (001 ~ 366)                                       |
| %k    | 시 (0~ 23), %_H와 동일                               |
| %l    | 소문자 l, 시 (1 ~ 12), %_I와 동일                    |
| %m    | 월 (01 ~ 12)                                         |
| %M    | 분 (00 ~ 59)                                         |
| %n    | new line                                             |
| %x    | 로케일 타입의 날짜 (13/31/99)                        |
| %X    | 로케일 타입의 시간                                   |
| %y    | 연도 (00 ~ 99)                                       |
| %Y    | 연도                                                 |
| %z    | 타임존 (+0900)                                       |
| %:z   | 타임존 (+09:00)                                      |
| %::z  | 타임존 (+09:00:00)                                   |
| %:::z | 타임존(+09, +05:30)                                  |
| %Z    | 타임존 (KST)                                         |



#### 사용

```sh
# 년-월-일 형태의 날짜 표현
date +%Y-%m-%d
2022-09-10

# 월-일-년(00) 형태의 날짜 표현
date +%m-%d-%y
09-10-22

# 일-영문월-년 형식의 날짜 표현
date +%d-%b-%Y
10-Sep-2022

# 12시간 기준의 시:분:초 AM/PM 형식의 시간 표현
date "+%l:%M:%S %p"
2:26:23 PM

# 24시간 기준의 시:분:초 시간 표현
date "+%k:%M:%S"
14:28:12

# 년-월-일 시:분:초 AM/PM 형식의 날짜 표현
date "+%Y-%m-%d %l:%M %p"
2022-09-10  2:29 PM

# 년-월-일 시:분:초 타임존 시간차 형식의 날짜 표현
date "+%Y-%m-%d %k:%M %Z %:z"
2022-09-10 14:30 KST +09:00

# 요일, 월, 일, 년 형식의 날짜 표현
date "+%A,%B %d,%Y"
Saturday,September 10,2022

# 요일,월 일,년 at 시:분:초 AM/PM 형식의 날짜 표현
date "+%A,%b %d,%Y at %l:%M:%S %p"
Saturday,Sep 10,2022 at  2:32:57 PM

# 년월일시분초 형식의 날짜 표현 (로그 생성할 경우)
date +%Y%m%d%H%M%S
20220910143348

# 로케일 형식의 날짜와 시간 표현
date +%c
Sat 10 Sep 2022 02:34:16 PM KST

# 로케일 형식의 날짜 표현
date +%x
09/10/2022

# 로케일 형식의 시간 표현
date +%X
02:35:07 PM

# 100년 뒤 몇 세기?
echo "The $(date -d "+100 year" +%Y) is the $(date -d "+100 year" +%C) century."
The 2122 is the 21 century. ??

# 오늘은 몇 번째 요일?
echo "Today is the $(date +%u)th day of the week"
Today is the 6th day of the week

# 이번 주는 올해의 몇 번째 주?
echo "This week is the $(date +%V)th week of the year."
This week is the 36th week of the year.
```





